1. 發票抓選邏輯? 應付? 實付? 內容? 

判斷有無: 客戶統編

公司地址電話統編

日期時間(印的當下為準)

產編-價格 總和 

-靠學長了, 我這邊應該沒了

3. 銷貨和寄賣都改成 email 搜尋客戶 D - 會扯到後台邏輯

4. 部門? 分店 v 改db現有資料即可

5. 圖片批次上傳 上傳那邊要修改一下

6. 寄賣該商品的客戶還寄賣了什們? 寄賣查詢介面 共同

7. 商品批量上傳 D 會扯到後台邏輯

8. 產編規則 : 部門別-流水編號 D 

9. 活動設定折扣率 D 會扯到後台邏輯

10. 銷貨自定折扣欄位 D 會扯到後台邏輯, 前端介面也要修改

11. 商品可以設定鎖死不打折  D 會扯到後台邏輯, 前端介面也要修改

12. 品牌-款式-花色 不綁, 打散 D 會扯到後台邏輯, 前端介面也要修改 (就...大刀闊斧的砍吧)

13. 到期日寄信通知 D ( 到期商品查看頁面 )

14. 進貨的邏輯，進貨訂單完成，但是可能有一個尚未上架的狀態 D 應該新增一個商品狀態即可

15. 多筆銷貨重整 -> 應該是新開一個可以快速刷件販賣的介面 ** -> 乾脆就把原本的介面淘汰了...

預設售價 = 產品售價, 付費方式: 現金, 刷卡兩種 應該是沒啥好改的, 資料改一下即可

16. 客戶搜尋出現bug ** 

17. 商品狀態被配合底色?

order.custom.html.twig 的 script 有陷阱，當按完page 時會刷新 <input type="hidden" name="page" /> 的值，
這時如果先按了假設第五頁，之後再用電話查詢，query 會跑成 符合 "該電話的第五頁資料，自然就找不到東西了

v

17. 客戶寄賣出現bug **

listener 35行判斷order類型那邊錯誤了, 原因是寄賣商品被錯誤分類為販售型訂單, 已經更正

v

(D)表示和woojin 不同的地方

---------------------------------
1. 商品相關後設crud 介面
2. 商品進貨介面
3. 客戶crud 介面
4. 使用者crud 介面
5. 更好的權限管理


手動進貨, 批次上傳, 銷貨, 客戶crud, 查貨

整個站都用angular? 反正也用不到twig 啊, 應該沒問題吧@@?

使用者 com2923_com2923 已加入資料庫 com2923_reebonz.


--------- 2014-07-15 鬥誌 ----------

1. 匯出excel
2. 匯入excel批次上傳
3. 銷貨功能
4. 訂單及操作記錄呈現
5. 增加商品創建日期查詢 

-------------------------------------
1.
調貨->[web worker]調貨通知, 寄賣通知 , 把 header 寫成一個directive，每3分鐘問一次，
若有通知則顯示調貨 or 寄賣按鈕, 按下按鈕則前往待確認清單頁 v

3.
二次付費 v

a. 

->查詢訂單 v

->修改 v


9. 商品點開後載入訂單相關資訊 

( ope content see as ope memo )

v

4.
寄賣通知

調貨通知

5.
活動機制 *****

* 設置 api

/api/v1/activity

/activity 活動CRUD管理

/activity/{id}/platform (下列三者整合之頁面，by tab)

/api/v1/activity/{id}/in (刷入活動)

/api/v1/activity/{id}/sale (展場售出)

/api/v1/activity/{id}/back (反還店內)

* 設置 介面
* 活動 api

售出, 退貨等都是現有api, 活動其實沒有特別需要做新的api 處理, 

對我們來說都是商品的方法, 只是某些參數屬性的不同罷了

* 活動銷貨介面
-> 套入活動計價邏輯
->template->主頁面架構用 list + form , 仿 商品
->controller

7. 發票機串接(林先生)

發票用woojin方式, 別再搞事件了, 搞自己....

8. meepshop 數量api

11. 活動設定付款方式 ***** v

12. 折扣邏輯套入 *****

14. 批次修改上下架刪除回店 ****

13. 定時下架排程套入(問公司能不能借我放排程....)

Bad: No test, 完全沒有測試，angular 或 symfony  都沒，想辦法改善

Bad: 拿掉事件處理，因為我們的動作會有批次的，用事件會有暴量觸發的次數，效能會太差

Bad: 拿掉智障一般的工廠方法

Bad: 客戶以及使用者增加分頁機制

Bad: 搜尋無法抽掉某一段條件，只能整個刪除

Bad: Angular 的 controller 太複雜了，而且方法重複性相當高，service, directive 運用不足

Bad: 表單驗證很少，後端也沒防 csrf ( 這個感覺還好 )

Bad: 引入的外部css 和 js 尚未壓縮打包

Bad: 商品詳細資料的 modal @ 訂單查詢

Bad: 哪些東西可以用 cache, 哪些東西可以用 cookie|localstorage, 缺乏審慎考量



六:

活動銷貨需要完成, 包含折扣部分的邏輯引入 v

--eat--

活動刷入刷出要完成, 以及一個簡單的filter v

日:

批次處理要完成 (not yet, 今日會處理好)

查詢排序功能完成 v

一:

寄賣通知(尚未)

調貨通知(尚未)


二:

發票機 !!!!!!!

----- 2014-08-18 ------

修復: {
	*產編抓錯東西了, 晚上整個跑一次修正
}

報表: {
	*原出貨報表未稅成本 / 1.05
	*增開一個銷貨報表( 原價, 優惠價, 折扣, 付費方式, 成本, 產編, sku, 活動, 折扣多少, 實付多少, 發票號碼)
	*在頁數增加匯出的button
	*可以直接再活動頁匯出報表
}

多筆操作: {
	*有資料顯示的地方都要有匯出報表, 批次操作的功能 (late)
	*批次修改(上架下架刪除活動)
}

銷貨: {
	*活動預設最新的再上面
	*銷貨可手動更改售價
	*滿一萬才折扣
}

搜尋: {
	*時間改為原本的區間選法 (late)
	*商品查詢沒有東西秀出警告!
	*訂單查詢新增根據發票號碼查詢
	*回饋訊息要更精準的區分情況是售出or根本無此商品
}

記錄: {
	*metarecord 商品
}

*--- 滿幾件打幾折 ---*
*--- 限定品牌打折 ---*

##################################################### 週四9:00前 要搞定的部份

*結帳堆疊, 顏色分區, 總和 # v

*發票功能綁定 後端ok v

* 結帳時，頁面切成兩塊, 一個是目前刷件，一個是刷件歷程，已一個發票單位區分，弄成panel well 的樣式，
已 local storage 儲存，orderBy create_at desc, 過期時間設定為一天, 附帶一個清除按鈕 v

*訂單取消記錄要加強內容 , 歷程記錄寫成directive v

*批次上傳的寄賣會有問題，如果打了個錯誤email 依然是寄賣進貨, 不大隊 v

*滿一萬送一千, 滿兩萬送兩千, 總額按比例分配減價 # v

*拆 controller.js v ( 線上用base.html.twig )

*預設出現所有訂單 # v

*批次上傳時不允許折扣失效 # v

*付費方式已刷卡為預設值  # v

*已經售出的東西再刷要顯示無庫存訊息 # v

*順序A2Z , Z2A # v

* list title 加上活動名稱品牌名稱 # v

*商品查詢的狀態沒有load進來 v

*售出取消訂單回饋訊息沒有顯示 v

*來源重開 # v

----- 2014-08-23 -------

權限:



---- site map -----

Goods
	search
	add
		import
		keyin

Orders
	index
	normal
	special

Activity
	index
	platform

Meta
	color
	pattern
	supplier
	brand
	goodsMt
	goodsSource
	level



每次上傳都要做這個!!

$ php app/console assetic:dump --env=prod --no-debug

or 

$ php app/console assetic:dump watch